import{S as R,B as b,M as _,a as C,P as E,b as T,A,c as M,d as L,W as F}from"./three.module-FffQEkxT.js";import{O as G}from"./OrbitControls-RfyKrsAp.js";import{g as z}from"./lil-gui.module.min-eVeCAemg.js";import{d as I,p as W,q as B,bg as k,o as D,a as O}from"./index-fTcqjtjT.js";var v=function(){var g=0,i=document.createElement("div");i.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",i.addEventListener("click",function(t){t.preventDefault(),r(++g%i.children.length)},!1);function o(t){return i.appendChild(t.dom),t}function r(t){for(var a=0;a<i.children.length;a++)i.children[a].style.display=a===t?"block":"none";g=t}var m=(performance||Date).now(),d=m,n=0,h=o(new v.Panel("FPS","#0ff","#002")),x=o(new v.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var u=o(new v.Panel("MB","#f08","#201"));return r(0),{REVISION:16,dom:i,addPanel:o,showPanel:r,begin:function(){m=(performance||Date).now()},end:function(){n++;var t=(performance||Date).now();if(x.update(t-m,200),t>=d+1e3&&(h.update(n*1e3/(t-d),100),d=t,n=0,u)){var a=performance.memory;u.update(a.usedJSHeapSize/1048576,a.jsHeapSizeLimit/1048576)}return t},update:function(){m=this.end()},domElement:i,setMode:r}};v.Panel=function(g,i,o){var r=1/0,m=0,d=Math.round,n=d(window.devicePixelRatio||1),h=80*n,x=48*n,u=3*n,t=2*n,a=3*n,c=15*n,w=74*n,f=30*n,p=document.createElement("canvas");p.width=h,p.height=x,p.style.cssText="width:80px;height:48px";var e=p.getContext("2d");return e.font="bold "+9*n+"px Helvetica,Arial,sans-serif",e.textBaseline="top",e.fillStyle=o,e.fillRect(0,0,h,x),e.fillStyle=i,e.fillText(g,u,t),e.fillRect(a,c,w,f),e.fillStyle=o,e.globalAlpha=.9,e.fillRect(a,c,w,f),{dom:p,update:function(l,y){r=Math.min(r,l),m=Math.max(m,l),e.fillStyle=o,e.globalAlpha=1,e.fillRect(0,0,h,c),e.fillStyle=i,e.fillText(d(l)+" "+g+" ("+d(r)+"-"+d(m)+")",u,t),e.drawImage(p,a+n,c,w-n,f,a,c,w-n,f),e.fillRect(a+w-n,c,n,f),e.fillStyle=o,e.globalAlpha=.9,e.fillRect(a+w-n,c,n,d((1-l/y)*f))}}};const H=200,J=I({__name:"BoxGeometry",setup(g){const i=W(null),o=new R,r=new z;r.domElement.style.right="0px";const m=new b(20,20,20),d=new _({color:16711680}),n=new C(m,d);o.add(n);const h=new E(16777215,1);h.decay=0,h.position.set(400,700,100);const x=new T(h,10);o.add(x);const u=new A(16777215,.5);o.add(u);const t={x:0,y:0,z:0,color:"#00FFFF",scale:0,bool:!1},a=r.addFolder("材质"),c=r.addFolder("位置");r.add(u,"intensity",0,2).step(.1).name("光照强度"),c.add(t,"x",0,100).onChange(s=>{n.position.x=s}),c.add(t,"y",0,100).name("y").onChange(s=>{n.position.y=s}),c.add(t,"z",0,100).name("y").onChange(s=>{n.position.z=s}),a.addColor(t,"color").name("颜色").onChange(s=>{n.material.color.set(s)}),r.add(t,"bool").onChange(s=>{console.log(s)});const w=new M(100);o.add(w);const f=window.innerWidth-H,p=window.innerHeight,e=new L(30,f/p,.1,3e3);e.position.set(200,200,200),e.lookAt(0,0,0);const l=new F({antialias:!0});l.setPixelRatio(window.devicePixelRatio),console.log("width",f),console.log("height",p),l.setSize(f,p),l.render(o,e),l.setClearColor("#000",.9);const y=new G(e,l.domElement),S=new v;return B(()=>{if(!i.value)return;i.value.appendChild(l.domElement),y.addEventListener("change",()=>{l.render(o,e)});function s(){S.update(),l.render(o,e),requestAnimationFrame(s)}s(),window.onresize=function(){const P=window.innerWidth-H;e.aspect=P/window.innerHeight,e.updateProjectionMatrix(),l.setSize(P,window.innerHeight)}}),k(()=>{r.hide()}),(s,P)=>(D(),O("div",{ref_key:"container",ref:i,class:"container"},null,512))}});export{J as default};
